# Energy

# Values from
# https://cngcenter.com/wp-content/uploads/2013/09/UnitsAndConversions.pdf

# Defined in https://github.com/hgrecco/pint/blob/master/pint/default_en.txt:
# - tonne_of_oil_equivalent

tonne_of_coal_equivalent = 29.308 GJ = tce

# Watt-annum
Wa = watt * year


# Currency

# Based on Germany's GDP deflator, data from
# https://data.worldbank.org/indicator/NY.GDP.DEFL.ZS?end=2015&locations=DE&start=2000

EUR_2005 = [currency] = EUR
EUR_2000 = 1.0564 * EUR_2005
EUR_2010 = 0.9463 * EUR_2005

# Exchange rate EUR/USD in 2005, data from
# https://data.oecd.org/conversion/exchange-rates.htm

USD_2005 = 0.8038 * EUR_2005 = USD


# Transportation activity

vehicle = [vehicle] = v
passenger = [passenger] = p = pass
tonne_freight = [tonne_freight] = tfr = tonnef
vkm = vehicle * kilometer
pkm = passenger * kilometer
tkm = tonne_freight * kilometer
@alias vkm = vkt = v km
@alias pkm = pkt = p km
@alias tkm = tkt = t km


# Emissions of various greenhouse gases

# DO NOT ADD carbon-dioxide-equivalent conversion factors in this file!
# 'Global warming potential (GWP)' factors to convert to CO2-equivalents
# changed between IPCC reports and their values depend on the assumed timespan.

carbon_dioxide = [carbon_dioxide] = co2 = CO2
# in the context of emissions, concentrations and resulting radiative forcing,
# carbon and carbon dioxide are usually treated as equivalent
# multiplied by the molecular weight of carbon dioxide relative to carbon
carbon = 44/12 * co2 = C

carbon_monoxide = [carbon_monoxide] = co = CO

methane = [methane] = ch4 = CH4

nitrous_oxide = [nitrous_oxide] = n2o = N2O

nitrogen_oxides = [nitrogen_oxides] = nox = NOx

ammonia = [ammonia] = nh3 = NH3

sulfur = [sulfur] = S

# Demonstration using contexts

# Pint currently allows redefining units/constants inside a context, but not

# defining new ones. These values are used in gwp_default. NB the values are

# artificial.
a_CO2 = 1 * kelvin / tonne
a_CH4 = 28 * kelvin / tonne

@context(a=0) gwp_default = gwp
    [mass] -> [temperature]: value * a
    [temperature] -> [mass]: value / a
@end

# A second context providing different conversions via different constants.

# '_b' here could be expanded into a naming scheme for different groups.
@context(a=0) gwp_b
    # Redefine one of the constants
    a_CH4 = 34 * kelvin / tonne

    # Pint requires redefinition of these conversions; a little verbose, but
    # harmless.
    [mass] -> [temperature]: value * a
    [temperature] -> [mass]: value / a
@end
